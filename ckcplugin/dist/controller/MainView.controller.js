sap.ui.define(["dongkuk/custom/plugin/ckcplugin/controller/BaseController","dongkuk/custom/plugin/ckcplugin/data/apiStorageLocations","dongkuk/custom/plugin/ckcplugin/data/apiInventories","sap/ui/model/json/JSONModel","sap/m/MessageToast"],function(e,t,o,n,i){"use strict";let s={};let a={get_sfcDetails:"sfc/v1/sfcdetail",get_inventories:"inventory/v1/inventories",get_storageLocations:"inventory/v1/storageLocations"};return e.extend("dongkuk.custom.plugin.ckcplugin.controller.MainView",{onInit:function(){e.prototype.onInit.apply(this,arguments);s=this._getConfiguration();this.getView().byId("idBackButton").setVisible(s.backButtonVisible);this.getView().byId("closeButton").setVisible(s.closeButtonVisible);this.getView().byId("headerTitle").setText(s.title);var o=new n;console.log("api call start");this.get(a.get_storageLocations,{plant:this.getPlant()}).then(e=>{i.show("storageLocations 조회 성공");console.log("storageLocations api call 성공");o.setData(e);this.getView().setModel(o,"apiStorageLocations");console.log(e)}).catch(e=>{i.show("storageLocations 조회 불가 => JSON file read");console.log("storageLocations api call 실패 -> JSON file read");o=new n(t);this.getView().setModel(o,"apiStorageLocations");console.log(o)});console.log("api call end")},onBeforeRenderingPlugin:function(){},onAfterRendering:function(){},onAfterPodConfigsLoad:function(e){},isSubscribingToNotifications:function(){var e=false;return e},getCustomNotificationEvents:function(e){},getNotificationMessageHandler:function(e){return null},_handleNotificationMessage:function(e){var t="Message not found in payload 'message' property";if(e&&e.parameters&&e.parameters.length>0){for(var o=0;o<e.parameters.length;o++){switch(e.parameters[o].name){case"template":break;case"template2":}}}},onBackButtonPress:function(e){i.show("Back Button Pressed!")},onClickAlertButton:function(e){},onSelectCombo:function(e){i.show(e.getSource().getSelectedKey());var t=new n;console.log("api call start");this.get(a.get_inventories,{plant:this.getPlant(),storageLocation:e.getSource().getSelectedKey()}).then(e=>{console.log("inventories api call 성공");t.setData(e);this.getView().setModel(t,"apiInventories");console.log(e)}).catch(e=>{console.log("inventories api call 실패 -> JSON file read");t=new n(o);this.getView().setModel(t,"apiInventories");console.log(t)});console.log("api call end")},onExit:function(){e.prototype.onExit.apply(this,arguments)}})});
//# sourceMappingURL=MainView.controller.js.map