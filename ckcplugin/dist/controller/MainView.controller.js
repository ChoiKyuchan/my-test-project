sap.ui.define(["dongkuk/custom/plugin/ckcplugin/controller/BaseController","dongkuk/custom/plugin/ckcplugin/data/apiStorageLocations","dongkuk/custom/plugin/ckcplugin/data/apiInventories","sap/ui/model/json/JSONModel","sap/m/MessageToast"],function(e,t,o,n,i){"use strict";let a={};let s={get_sfcDetails:"sfc/v1/sfcdetail",get_inventories:"inventory/v1/inventories",get_storageLocations:"inventory/v1/storageLocations",post_inventoriesTransfer:"inventory/v1/inventories/transfer"};return e.extend("dongkuk.custom.plugin.ckcplugin.controller.MainView",{onInit:function(){e.prototype.onInit.apply(this,arguments);a=this._getConfiguration();var o=new n;console.log("api call start");this.get(s.get_storageLocations,{plant:this.getPlant()}).then(e=>{i.show("storageLocations 조회 성공");console.log("storageLocations api call 성공 : "+JSON.stringify(e));o.setData(e);this.getView().setModel(o,"apiStorageLocations");console.log(e)}).catch(e=>{i.show(e.message);console.log("storageLocations api call 실패 -> JSON file read : "+JSON.stringify(e));o=new n(t);this.getView().setModel(o,"apiStorageLocations");console.log(o)});console.log("api call end")},onBeforeRenderingPlugin:function(){},onAfterRendering:function(){},onAfterPodConfigsLoad:function(e){},isSubscribingToNotifications:function(){var e=false;return e},getCustomNotificationEvents:function(e){},getNotificationMessageHandler:function(e){return null},_handleNotificationMessage:function(e){var t="Message not found in payload 'message' property";if(e&&e.parameters&&e.parameters.length>0){for(var o=0;o<e.parameters.length;o++){switch(e.parameters[o].name){case"template":break;case"template2":}}}},onBackButtonPress:function(e){i.show("Back Button Pressed!")},onClickAlertButton:function(e){},onRadioButtonASelect:function(e){},onSelectComboaaa:function(e){},onClickMoveButton:function(e){console.log("onClickMoveButton click!!");var t=this.getView().getModel("apiInventories");var o=t.getProperty("/content");var n=this.getView().byId("testTable");var i=n.getItems();var a=-1;i.forEach(function(e,t){var o=e.getCells()[0];if(o.getSelected()){a=t}});let l=this.getView().byId("transLocId").getValue().toUpperCase();let r=this.getView().byId("transQuantity").getValue();console.log("move storageLocation = "+l);console.log("move transQuantity = "+r);this.post(s.post_inventoriesTransfer,{plant:this.getPlant(),inventoryId:o[a].inventoryId,lastModifiedDateTime:o[a].modifiedDateTime,quantity:{unitOfMeasure:{internalUnitOfMeasure:o[a].quantityOnHand.unitOfMeasure.internalUnitOfMeasure},value:r},storageLocation:l}).then(e=>{console.log(JSON.stringify(e))}).catch(e=>{console.log(JSON.stringify(e))});this.onSelectCombo(this.getView().byId("comboLoc").getValue());console.log("post api 처리완료")},onSelectCombo:function(e){console.log("typeof(param) = "+typeof e);let t;if(typeof e==="string"){console.log("이동 후 재조회");t=e}else{t=e.getSource().getSelectedKey()}i.show(t);var a=new n;console.log("api call start");this.get(s.get_inventories,{plant:this.getPlant(),storageLocation:t}).then(e=>{console.log("inventories api call 성공 : "+JSON.stringify(e));a.setData(e);this.getView().setModel(a,"apiInventories");console.log(e)}).catch(e=>{console.log("inventories api call 실패 -> JSON file read : "+JSON.stringify(e));a=new n(o);this.getView().setModel(a,"apiInventories");console.log(a)});console.log("api call end")},onExit:function(){e.prototype.onExit.apply(this,arguments)}})});
//# sourceMappingURL=MainView.controller.js.map